好的，这是对课程最后一部分（作业讲解及数据链路层第一节）的完整内容总结。

### **第一部分：物理层作业与习题讲解**

1.  **基础概念题 (第1, 3题)**
    *   **第1题**：涉及电压电平的问题属于**电气特性**。
    *   **第3题**：影响信道数据传输率的因素主要有**带宽**、**信噪比**和**信号电平数**（奈奎斯特与香农定理）。**信号传播速度**影响的是**传播时延**，不影响传输率。

2.  **傅里叶系数计算 (第2题)**
    *   讲师指出，Tanenbaum教材中傅里叶系数`an`和`bn`的定义可能与国内高等数学教材相反。考试时若遇到此类问题，应以题目给出的公式为准。

3.  **香农定理应用 (第4题)**
    *   **步骤**：
        1.  根据信噪比（30 dB）计算出 `S/N` 的比值：`10 * log₁₀(S/N) = 30` -> `S/N = 1000`。
        2.  代入香农公式计算理论最大速率 `C = H * log₂(1 + S/N)`，其中 `1 + S/N = 1001`，可近似为 `1024`（即 `2¹⁰`），所以 `log₂(1001) ≈ 10`。
        3.  `C ≈ 8000 Hz * 10 = 80 kbps`。
        4.  实际速率是理论值的50%，所以实际速率为 `80 kbps * 0.5 = 40 kbps`。

4.  **传输模式辨析 (第5题)**
    *   **石油管道**：被官方答案定义为**半双工**。虽然直观上可能是单工，但理论上可以反向输油，只是不能同时进行。
    *   **河流**：**单工**，水只能朝一个方向流。
    *   **对讲机**：**半双工**，同一时间只能一人说或一人听。

5.  **编码与多路复用计算 (第6, 7, 9题)**
    *   **曼彻斯特编码**：将比特流`0001`转换为电平序列，按照“低到高(LH)为0，高到低(HL)为1”的规则，结果为`LH LH LH HL`。
    *   **FDM带宽计算**：10个信号，每个信号需4000Hz带宽，且信号间需400Hz的保护带。按照教材示例的简单计算方法，每个信号总共占用 `4000 + 400 = 4400 Hz`。总带宽为 `10 * 4400 Hz = 44 kHz`。
    *   **奈奎斯特与香农结合**：计算满足两种定理的最小信号状态数`V`，最终得出`V ≥ 32`。

6.  **其他考点**
    *   **调制解调器(Modem)**：用于数字数据在模拟信道上的传输。
    *   **香农定理适用性**：适用于**所有**传输介质，是一个普适的物理定律。
    *   **基带传输**：用于数字信号传输数字数据。

### **第二部分：数据链路层 (Data Link Layer) - 基础**

1.  **数据链路层的功能**
    *   **为网络层提供服务**：主要有三种服务模式：无确认的无连接服务、有确认的无连接服务、有确认的面向连接服务。
    *   **成帧 (Framing)**：将来自物理层的比特流组织成一个个的数据单元——**帧 (Frame)**。
    *   **差错控制 (Error Control)**：检测并可能纠正传输中发生的比特错误。
    *   **流量控制 (Flow Control)**：调节发送速率，防止淹没慢速的接收方。

2.  **成帧 (Framing) 的四种方法**
    *   **① 字节计数法 (Byte Count)**：在帧首部用一个字段标明该帧包含的字节数。
        *   **缺点**：若计数字段出错，会导致后续所有帧的边界都判断错误，同步会丢失。
    *   **② 带字节填充的定界符法 (Byte Stuffing with Flag Bytes)**：
        *   使用一个特殊的**标志字节 (Flag)**，如`0x7E`，来标记帧的开始和结束。
        *   **问题**：如果数据中本身就包含标志字节怎么办？
        *   **解决**：引入一个**转义字节 (ESC)**。在数据中遇到的每一个`Flag`或`ESC`字节前，都插入一个`ESC`字节进行“填充”。接收方看到`ESC`后，会将其删除，并将后面的字节作为普通数据。
    *   **③ 带比特填充的定界符法 (Bit Stuffing with Flag Bits)**：
        *   同样使用标志序列（如`01111110`）定界。
        *   **原理**：发送方在扫描数据比特流时，只要遇到连续的**5个1**，就强制在其后**插入一个0**。
        *   **优点**：确保了数据部分永远不会出现由连续6个1组成的标志序列。接收方遇到连续5个1后，会自动删除其后的0。
    *   **④ 物理层编码违例法 (Physical Layer Coding Violations)**：利用物理层编码中不会出现的特定信号模式来定界。

3.  **差错控制 - 循环冗余校验 (CRC - Cyclic Redundancy Check)**
    *   **核心思想**：将数据比特序列视为一个多项式，通过多项式的模2除法来生成校验码。
    *   **生成过程**：
        1.  **约定生成多项式 G(x)**：收发双方共享一个`r`阶的生成多项式，对应一个`r+1`位的二进制除数`G`。
        2.  **数据补零**：将`k`位的数据`D`左移`r`位（即在末尾补`r`个0）。
        3.  **模2除法**：用补零后的数据去除以除数`G`，得到一个`r`位的余数`R`。
        4.  **生成校验帧**：将原始数据`D`与余数`R`拼接（即用`R`替换之前补的`r`个0），得到最终要发送的`k+r`位的数据帧。
    *   **校验过程**：
        *   接收方收到数据帧后，用同样的方法，用整个帧去除以除数`G`。
        *   如果余数为0，则认为数据传输无误。
        *   如果余数不为0，则认为数据出错，丢弃该帧。
    *   **模2除法演示**：讲师详细演示了使用**异或 (XOR)** 运算进行长除法的过程，并推荐了一种不容易出错的、规范化的计算步骤。该方法通过判断部分余数的首位是1还是0，来决定商是1还是0，并进行相应的异或操作。

### **课程安排预告**

*   讲师计划在休息后继续讲解数据链路层的核心协议，包括**停止-等待协议**和**滑动窗口协议（回退N帧协议 Go-Back-N, 选择重传协议 Selective Repeat）**。